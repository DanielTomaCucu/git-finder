<!-- <p>Bearer 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</p> -->

<div class="relative">
 <p [routerLink]="'/profile/DanielTomaCucu'" class=" cursor-pointer absolute text-sm md:text-md text-gray-700 right-4 top-4 px-2 py-1 bg-slate-50 rounded-md">My Profile</p>
  <img
    src="../../assets/bg/card.webp"
    class="w-full md:h-screen object-cover"
  />

  <div
    class="absolute container top-1/3 left-1/2 -translate-x-1/2 flex flex-row flex-nowrap gap-1 md:gap-3 p-5"
  >
    <input
      placeholder="test"
      type="text"
      class="w-full bg-white opacity-90 px-5 py-2 rounded-md md:rounded-xl"
    />
    <p
      class="text-white bg-search w-fit p-2 md:p-4 rounded-md md:rounded-xl opacity-80"
    >
      Search
    </p>
  </div>
</div>

<div class="container mb-4">
  <p class="text-5xl textbg font-extrabold text-center pt-24 md:pt-32 pb-12">
    Most Forked repos
  </p>
  <div *ngIf="loading; else forkedRepo">
    <app-skeleton-loader-home></app-skeleton-loader-home>
  </div>
  <ng-template #forkedRepo>
    <div
      class="grid grid-flow-row grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"
    >
      <div
        (click)="redirectToRepo(repo.node.owner.login, repo.node.name)"
        *ngFor="let repo of mostForked"
        class="shadow-lg rounded-xl p-6 relative border-2 border-slate-100 hover:-translate-y-1 duration-150 cursor-pointer"
      >
        <div
          class="flex flex-row flex-nowrap justify-between items-center gap-3"
        >
          <img
            [src]="repo.node.owner.avatarUrl"
            alt="{{ repo.node.name }}"
            class="rounded-full w-20 shadow-md"
          />
          <div
            class="flex flex-row flex-nowrap gap-1 items-center overflow-hidden"
          >
            <p
              class="text-2xl overflow-hidden whitespace-nowrap text-ellipsis flex-shrink"
            >
              {{ repo.node.name }}
            </p>
            <img src="../../assets/icons/redirect.svg" class="h-5" />
          </div>
        </div>

        <div class="flex flex-row flex-nowrap gap-4 justify-between pt-9 pb-1">
          <div class="flex flex-row flex-nowrap gap-1 items-center">
            <img src="../../assets/icons/fork.svg" class="h-5" />
            <p>{{ repo.node.forkCount }}</p>
          </div>
          <div class="flex flex-row flex-nowrap gap-1 items-center">
            <img src="../../assets/icons/star.svg" class="h-5" />
            <p>{{ repo.node.stargazerCount }}</p>
          </div>

          <div class="flex flex-row flex-nowrap gap-1 items-center">
            <img src="../../assets/icons/eye.svg" class="h-5" />
            <p>{{ repo.node.watchers.totalCount }}</p>
          </div>
        </div>
        <div class="pb-7">
          <p class="line-clamp-3">Description: {{ repo.node.description }}</p>
        </div>
        <div
          class="absolute bottom-0 right-0 flex flex-row flex-nowrap gap-1 items-center px-2 py-1 rounded-ss-lg rounded-ee-lg bg-slate-50 border-2 border-slate-100"
        >
          <img src="../../assets/icons/refresh.svg" class="h-3" />
          <p class="text-sm">{{ repo.node.updatedAt | date }}</p>
        </div>
      </div>
    </div>
  </ng-template>
</div>

<div class="container mb-4">
  <p class="text-5xl textbg font-extrabold text-center pt-24 md:pt-32 pb-12">
    Most Starred repos
  </p>
  <div *ngIf="loading; else starredRepo">
    <app-skeleton-loader-home></app-skeleton-loader-home>
  </div>
  <ng-template #starredRepo>
    <div
      class="grid grid-flow-row grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"
    >
      <div
        (click)="redirectToRepo(repo.node.owner.login, repo.node.name)"
        *ngFor="let repo of mostStarred"
        class="shadow-lg cursor-pointer rounded-xl p-6 relative border-2 border-slate-100 hover:-translate-y-1 duration-150"
      >
        <div
          class="flex flex-row flex-nowrap justify-between items-center gap-3"
        >
          <img
            [src]="repo.node.owner.avatarUrl"
            alt="{{ repo.node.name }}"
            class="rounded-full w-20 shadow-md"
          />
          <div
            class="flex flex-row flex-nowrap gap-1 items-center overflow-hidden"
          >
            <p
              class="text-2xl overflow-hidden whitespace-nowrap text-ellipsis flex-shrink"
            >
              {{ repo.node.name }}
            </p>
            <img src="../../assets/icons/redirect.svg" class="h-5" />
          </div>
        </div>
        <div class="flex flex-row flex-nowrap gap-4 justify-between pt-9 pb-1">
          <div class="flex flex-row flex-nowrap gap-1 items-center">
            <img src="../../assets/icons/star.svg" class="h-5" />
            <p>{{ repo.node.stargazerCount }}</p>
          </div>

          <div class="flex flex-row flex-nowrap gap-1 items-center">
            <img src="../../assets/icons/fork.svg" class="h-5" />
            <p>{{ repo.node.forkCount }}</p>
          </div>
          <div class="flex flex-row flex-nowrap gap-1 items-center">
            <img src="../../assets/icons/eye.svg" class="h-5" />
            <p>{{ repo.node.watchers.totalCount }}</p>
          </div>
        </div>
        <div class="pb-7">
          <p class="line-clamp-3">Description: {{ repo.node.description }}</p>
        </div>
        <div
          class="absolute bottom-0 right-0 flex flex-row flex-nowrap gap-1 items-center px-2 py-1 rounded-ss-lg rounded-ee-lg bg-slate-50 border-2 border-slate-100"
        >
          <img src="../../assets/icons/refresh.svg" class="h-3" />
          <p class="text-sm">{{ repo.node.updatedAt | date }}</p>
        </div>
      </div>
    </div>
  </ng-template>
</div>
